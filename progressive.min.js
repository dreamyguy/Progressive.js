var Progressive=function(){"use strict";var animationString,prefix,enhance,i,styleElem=document.createElement("style"),animationSupport=!1,keyframePrefix="",domPrefixes=["Webkit","Moz","O","ms","Khtml"],numPrefixes=domPrefixes.length;if(document.getElementsByClassName=document.getElementsByClassName||function(className){var els,elsLen,i,j,classElements=[],pattern=RegExp("(^|\\s)"+className+"(\\s|$)");for(els=document.getElementsByTagName("*"),elsLen=els.length,i=0,j=0;elsLen>i;i++)pattern.test(els[i].className)&&(classElements[j]=els[i],j++);return classElements},styleElem.style.animationName)animationSupport=!0;else for(i=0;numPrefixes>i;i++)if(void 0!==styleElem.style[domPrefixes[i]+"AnimationName"]){prefix=domPrefixes[i],animationString=prefix+"Animation",keyframePrefix="-"+prefix.toLowerCase()+"-",animationSupport=!0;break}return enhance=function(enhancements){var ruleText,enhancement,onNodeInserted,styleRules={},fallback=function(){var enhancement,elems,numElems,i;for(enhancement in enhancements)if(enhancements.hasOwnProperty(enhancement)&&(elems=document.getElementsByClassName(enhancements[enhancement].className),numElems=elems.length,!enhancements[enhancement].count||numElems>enhancements[enhancement].count))for(i=0;numElems>i;i++)enhancements[enhancement].callback.call(elems[i])};if(ruleText="",onNodeInserted=function(e){var enhancement=enhancements[e.animationName];enhancement&&(enhancement.count=++enhancement.count||1,enhancement.callback.call(e.target))},animationSupport){for(enhancement in enhancements)enhancements.hasOwnProperty(enhancement)&&(ruleText+="."+enhancements[enhancement].className+"{",ruleText+=keyframePrefix+"animation:"+enhancement+" 0.001s;",ruleText+="}",ruleText+="@"+keyframePrefix+"keyframes "+enhancement+"{from{clip:rect(1px,auto,auto,auto);}to{clip:rect(0px,auto,auto,auto);}}");styleRules=document.createTextNode(ruleText),styleElem.type="text/css",styleElem.styleSheet?styleElem.styleSheet.cssText=styleRules.nodeValue:styleElem.appendChild(styleRules),document.getElementsByTagName("script")[0].parentNode.appendChild(styleElem),document.addEventListener("animationstart",onNodeInserted,!1),document.addEventListener("oanimationstart",onNodeInserted,!1),document.addEventListener("MSAnimationStart",onNodeInserted,!1),document.addEventListener("webkitAnimationStart",onNodeInserted,!1)}window.addEventListener?window.addEventListener("load",fallback):window.attachEvent&&window.attachEvent("onload",fallback)},{enhance:enhance}}();